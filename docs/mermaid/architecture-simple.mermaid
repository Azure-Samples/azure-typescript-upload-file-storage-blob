graph LR
    User[ğŸ‘¤ User]
    Frontend[ğŸŒ Web App<br/>Frontend]
    Backend[âš™ï¸ API App<br/>Backend]
    ManagedIdentity[ğŸ” Managed<br/>Identity]
    Registry[ğŸ‹ Container<br/>Registry]
    Storage[ğŸ—„ï¸ Storage<br/>Blob Container]

    User -->|1. Access| Frontend
    Frontend -->|2. API Call| Backend
    Backend -->|3. Upload/List| Storage
    
    ManagedIdentity -.->|Auth| Frontend
    ManagedIdentity -.->|Auth| Backend
    ManagedIdentity -.->|Images| Registry
    Registry -.->|Images| Frontend
    Registry -.->|Images| Backend

    classDef userStyle fill:#8B5A9F,stroke:#333,stroke-width:2px,color:#fff
    classDef appStyle fill:#0078D4,stroke:#333,stroke-width:2px,color:#fff
    classDef identityStyle fill:#00B294,stroke:#333,stroke-width:2px,color:#fff
    classDef registryStyle fill:#50E6FF,stroke:#333,stroke-width:2px,color:#000
    classDef storageStyle fill:#50E6FF,stroke:#333,stroke-width:2px,color:#000

    class User userStyle
    class Frontend,Backend appStyle
    class ManagedIdentity identityStyle
    class Registry registryStyle
    class Storage storageStyle
